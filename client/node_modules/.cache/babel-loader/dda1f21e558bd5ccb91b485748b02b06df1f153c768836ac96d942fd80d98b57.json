{"ast":null,"code":"import { ADD_TO_CART, REMOVE_ITEM, CHECKOUT, CLEAR } from \"./cartTypes\";\nconst Storage = cartItems => {\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems.length > 0 ? cartItems : []));\n};\n_c = Storage;\nexport const sumItems = cartItems => {\n  Storage(cartItems);\n  let itemCount = cartItems.length;\n  let total = cartItems.reduce((total, item) => total + item.fee, 0).toFixed(2);\n  return {\n    itemCount,\n    total\n  };\n};\nconst CartReducer = (state, action) => {\n  switch (action.type) {\n    case ADD_TO_CART:\n      if (!state.cartItems.find(item => item._id === action.payload._id)) {\n        state.cartItems.push({\n          ...action.payload\n        });\n      }\n      return {\n        ...state,\n        ...sumItems(state.cartItems),\n        cartItems: [...state.cartItems]\n      };\n    case REMOVE_ITEM:\n      return {\n        ...state,\n        ...sumItems(state.cartItems.filter(item => item._id !== action.payload._id)),\n        cartItems: [...state.cartItems.filter(item => item._id !== action.payload._id)]\n      };\n    case CHECKOUT:\n      return {\n        cartItems: [],\n        checkout: true,\n        ...sumItems([])\n      };\n    case CLEAR:\n      return {\n        cartItems: [],\n        ...sumItems([])\n      };\n    default:\n      return state;\n  }\n};\n_c2 = CartReducer;\nexport default CartReducer;\nvar _c, _c2;\n$RefreshReg$(_c, \"Storage\");\n$RefreshReg$(_c2, \"CartReducer\");","map":{"version":3,"names":["ADD_TO_CART","REMOVE_ITEM","CHECKOUT","CLEAR","Storage","cartItems","localStorage","setItem","JSON","stringify","length","_c","sumItems","itemCount","total","reduce","item","fee","toFixed","CartReducer","state","action","type","find","_id","payload","push","filter","checkout","_c2","$RefreshReg$"],"sources":["C:/Users/divya/OneDrive/Desktop/MERN-Full-Stack-Pet-Adoption-App/client/src/context/cartContext/cartReducer.tsx"],"sourcesContent":["import { ADD_TO_CART, REMOVE_ITEM, CHECKOUT, CLEAR } from \"./cartTypes\";\r\n\r\nconst Storage = (cartItems: CartPet[]) => {\r\n  localStorage.setItem(\r\n    \"cartItems\",\r\n    JSON.stringify(cartItems.length > 0 ? cartItems : [])\r\n  );\r\n};\r\n\r\nexport const sumItems = (cartItems: CartPet[]) => {\r\n  Storage(cartItems);\r\n  let itemCount = cartItems.length;\r\n  let total = cartItems.reduce((total, item) => total + item.fee, 0).toFixed(2);\r\n  return { itemCount, total };\r\n};\r\n\r\nconst CartReducer = (state: any, action: CartActionType) => {\r\n  switch (action.type) {\r\n    case ADD_TO_CART:\r\n      if (\r\n        !state.cartItems.find(\r\n          (item: CartPet) => item._id === action.payload._id\r\n        )\r\n      ) {\r\n        state.cartItems.push({\r\n          ...action.payload,\r\n        });\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        ...sumItems(state.cartItems),\r\n        cartItems: [...state.cartItems],\r\n      };\r\n\r\n    case REMOVE_ITEM:\r\n      return {\r\n        ...state,\r\n        ...sumItems(\r\n          state.cartItems.filter(\r\n            (item: CartPet) => item._id !== action.payload._id\r\n          )\r\n        ),\r\n        cartItems: [\r\n          ...state.cartItems.filter(\r\n            (item: CartPet) => item._id !== action.payload._id\r\n          ),\r\n        ],\r\n      };\r\n\r\n    case CHECKOUT:\r\n      return {\r\n        cartItems: [],\r\n        checkout: true,\r\n        ...sumItems([]),\r\n      };\r\n\r\n    case CLEAR:\r\n      return {\r\n        cartItems: [],\r\n        ...sumItems([]),\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default CartReducer;\r\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,WAAW,EAAEC,QAAQ,EAAEC,KAAK,QAAQ,aAAa;AAEvE,MAAMC,OAAO,GAAIC,SAAoB,IAAK;EACxCC,YAAY,CAACC,OAAO,CAClB,WAAW,EACXC,IAAI,CAACC,SAAS,CAACJ,SAAS,CAACK,MAAM,GAAG,CAAC,GAAGL,SAAS,GAAG,EAAE,CACtD,CAAC;AACH,CAAC;AAACM,EAAA,GALIP,OAAO;AAOb,OAAO,MAAMQ,QAAQ,GAAIP,SAAoB,IAAK;EAChDD,OAAO,CAACC,SAAS,CAAC;EAClB,IAAIQ,SAAS,GAAGR,SAAS,CAACK,MAAM;EAChC,IAAII,KAAK,GAAGT,SAAS,CAACU,MAAM,CAAC,CAACD,KAAK,EAAEE,IAAI,KAAKF,KAAK,GAAGE,IAAI,CAACC,GAAG,EAAE,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,CAAC;EAC7E,OAAO;IAAEL,SAAS;IAAEC;EAAM,CAAC;AAC7B,CAAC;AAED,MAAMK,WAAW,GAAGA,CAACC,KAAU,EAAEC,MAAsB,KAAK;EAC1D,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAKtB,WAAW;MACd,IACE,CAACoB,KAAK,CAACf,SAAS,CAACkB,IAAI,CAClBP,IAAa,IAAKA,IAAI,CAACQ,GAAG,KAAKH,MAAM,CAACI,OAAO,CAACD,GACjD,CAAC,EACD;QACAJ,KAAK,CAACf,SAAS,CAACqB,IAAI,CAAC;UACnB,GAAGL,MAAM,CAACI;QACZ,CAAC,CAAC;MACJ;MAEA,OAAO;QACL,GAAGL,KAAK;QACR,GAAGR,QAAQ,CAACQ,KAAK,CAACf,SAAS,CAAC;QAC5BA,SAAS,EAAE,CAAC,GAAGe,KAAK,CAACf,SAAS;MAChC,CAAC;IAEH,KAAKJ,WAAW;MACd,OAAO;QACL,GAAGmB,KAAK;QACR,GAAGR,QAAQ,CACTQ,KAAK,CAACf,SAAS,CAACsB,MAAM,CACnBX,IAAa,IAAKA,IAAI,CAACQ,GAAG,KAAKH,MAAM,CAACI,OAAO,CAACD,GACjD,CACF,CAAC;QACDnB,SAAS,EAAE,CACT,GAAGe,KAAK,CAACf,SAAS,CAACsB,MAAM,CACtBX,IAAa,IAAKA,IAAI,CAACQ,GAAG,KAAKH,MAAM,CAACI,OAAO,CAACD,GACjD,CAAC;MAEL,CAAC;IAEH,KAAKtB,QAAQ;MACX,OAAO;QACLG,SAAS,EAAE,EAAE;QACbuB,QAAQ,EAAE,IAAI;QACd,GAAGhB,QAAQ,CAAC,EAAE;MAChB,CAAC;IAEH,KAAKT,KAAK;MACR,OAAO;QACLE,SAAS,EAAE,EAAE;QACb,GAAGO,QAAQ,CAAC,EAAE;MAChB,CAAC;IAEH;MACE,OAAOQ,KAAK;EAChB;AACF,CAAC;AAACS,GAAA,GAlDIV,WAAW;AAoDjB,eAAeA,WAAW;AAAC,IAAAR,EAAA,EAAAkB,GAAA;AAAAC,YAAA,CAAAnB,EAAA;AAAAmB,YAAA,CAAAD,GAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}